# -*- coding:utf-8 -*-
import pytest
# node-semver/test/index.js

cands = [
    ['1.0.0 - 2.0.0', '1.2.3', False],
    ['^1.2.3+build', '1.2.3', False],
    ['^1.2.3+build', '1.3.0', False],
    ['1.2.3-pre+asdf - 2.4.3-pre+asdf', '1.2.3', False],
    ['1.2.3pre+asdf - 2.4.3-pre+asdf', '1.2.3', True],
    ['1.2.3-pre+asdf - 2.4.3pre+asdf', '1.2.3', True],
    ['1.2.3pre+asdf - 2.4.3pre+asdf', '1.2.3', True],
    ['1.2.3-pre+asdf - 2.4.3-pre+asdf', '1.2.3-pre.2', False],
    ['1.2.3-pre+asdf - 2.4.3-pre+asdf', '2.4.3-alpha', False],
    ['1.2.3+asdf - 2.4.3+asdf', '1.2.3', False],
    ['1.0.0', '1.0.0', False],
    ['>=*', '0.2.4', False],
    ['', '1.0.0', False],
    ['*', '1.2.3', False],
    ['*', 'v1.2.3', True],
    ['>=1.0.0', '1.0.0', False],
    ['>=1.0.0', '1.0.1', False],
    ['>=1.0.0', '1.1.0', False],
    ['>1.0.0', '1.0.1', False],
    ['>1.0.0', '1.1.0', False],
    ['<=2.0.0', '2.0.0', False],
    ['<=2.0.0', '1.9999.9999', False],
    ['<=2.0.0', '0.2.9', False],
    ['<2.0.0', '1.9999.9999', False],
    ['<2.0.0', '0.2.9', False],
    ['>= 1.0.0', '1.0.0', False],
    ['>=  1.0.0', '1.0.1', False],
    ['>=   1.0.0', '1.1.0', False],
    ['> 1.0.0', '1.0.1', False],
    ['>  1.0.0', '1.1.0', False],
    ['<=   2.0.0', '2.0.0', False],
    ['<= 2.0.0', '1.9999.9999', False],
    ['<=  2.0.0', '0.2.9', False],
    ['<    2.0.0', '1.9999.9999', False],
    ['<\t2.0.0', '0.2.9', False],
    ['>=0.1.97', 'v0.1.97', True],
    ['>=0.1.97', '0.1.97', False],
    ['0.1.20 || 1.2.4', '1.2.4', False],
    ['>=0.2.3 || <0.0.1', '0.0.0', False],
    ['>=0.2.3 || <0.0.1', '0.2.3', False],
    ['>=0.2.3 || <0.0.1', '0.2.4', False],
    ['||', '1.3.4', False],
    ['2.x.x', '2.1.3', False],
    ['1.2.x', '1.2.3', False],
    ['1.2.x || 2.x', '2.1.3', False],
    ['1.2.x || 2.x', '1.2.3', False],
    ['x', '1.2.3', False],
    ['2.*.*', '2.1.3', False],
    ['1.2.*', '1.2.3', False],
    ['1.2.* || 2.*', '2.1.3', False],
    ['1.2.* || 2.*', '1.2.3', False],
    ['*', '1.2.3', False],
    ['2', '2.1.2', False],
    ['2.3', '2.3.1', False],
    ['~x', '0.0.9', False],  # >=2.4.0 <2.5.0
    ['~2', '2.0.9', False],  # >=2.4.0 <2.5.0
    ['~2.4', '2.4.0', False],  # >=2.4.0 <2.5.0
    ['~2.4', '2.4.5', False],
    ['~>3.2.1', '3.2.2', False],  # >=3.2.1 <3.3.0,
    ['~1', '1.2.3', False],  # >=1.0.0 <2.0.0
    ['~>1', '1.2.3', False],
    ['~> 1', '1.2.3', False],
    ['~1.0', '1.0.2', False],  # >=1.0.0 <1.1.0,
    ['~ 1.0', '1.0.2', False],
    ['~ 1.0.3', '1.0.12', False],
    ['>=1', '1.0.0', False],
    ['>= 1', '1.0.0', False],
    ['<1.2', '1.1.1', False],
    ['< 1.2', '1.1.1', False],
    ['~v0.5.4-pre', '0.5.5', False],
    ['~v0.5.4-pre', '0.5.4', False],
    ['=0.7.x', '0.7.2', False],
    ['<=0.7.x', '0.7.2', False],
    ['>=0.7.x', '0.7.2', False],
    ['<=0.7.x', '0.6.2', False],
    ['~1.2.1 >=1.2.3', '1.2.3', False],
    ['~1.2.1 =1.2.3', '1.2.3', False],
    ['~1.2.1 1.2.3', '1.2.3', False],
    ['~1.2.1 >=1.2.3 1.2.3', '1.2.3', False],
    ['~1.2.1 1.2.3 >=1.2.3', '1.2.3', False],
    ['~1.2.1 1.2.3', '1.2.3', False],
    ['>=1.2.1 1.2.3', '1.2.3', False],
    ['1.2.3 >=1.2.1', '1.2.3', False],
    ['>=1.2.3 >=1.2.1', '1.2.3', False],
    ['>=1.2.1 >=1.2.3', '1.2.3', False],
    ['>=1.2', '1.2.8', False],
    ['^1.2.3', '1.8.1', False],
    ['^0.1.2', '0.1.2', False],
    ['^0.1', '0.1.2', False],
    ['^0.0.1', '0.0.1', False],
    ['^1.2', '1.4.2', False],
    ['^1.2 ^1', '1.4.2', False],
    ['^1.2.3-alpha', '1.2.3-pre', False],
    ['^1.2.0-alpha', '1.2.0-pre', False],
    ['^0.0.1-alpha', '0.0.1-beta', False],
    ['^0.1.1-alpha', '0.1.1-beta', False],
    ['^x', '1.2.3', False],
    ['x - 1.0.0', '0.9.7', False],
    ['x - 1.x', '0.9.7', False],
    ['1.0.0 - x', '1.9.7', False],
    ['1.x - x', '1.9.7', False],
    ['<=7.x', '7.9.9', False]
]


@pytest.mark.parametrize("range_, version, loose", cands)
def test_it(range_, version, loose):
    from semver import satisfies
    assert satisfies(version, range_, loose) is True
